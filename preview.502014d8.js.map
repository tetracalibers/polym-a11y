{"version":3,"file":"preview.502014d8.js","sources":["../node_modules/@storybook/addon-measure/dist/esm/box-model/canvas.js","../node_modules/@storybook/addon-measure/dist/esm/box-model/labels.js","../node_modules/@storybook/addon-measure/dist/esm/box-model/visualizer.js","../node_modules/@storybook/addon-measure/dist/esm/util.js","../node_modules/@storybook/addon-measure/dist/esm/withMeasure.js","../node_modules/@storybook/addon-measure/dist/esm/constants.js","../node_modules/@storybook/addon-measure/dist/esm/preview.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport global from 'global';\n\nfunction getDocumentWidthAndHeight() {\n  var container = global.document.documentElement;\n  var height = Math.max(container.scrollHeight, container.offsetHeight);\n  var width = Math.max(container.scrollWidth, container.offsetWidth);\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction createCanvas() {\n  var canvas = global.document.createElement('canvas');\n  canvas.id = 'storybook-addon-measure';\n  var context = canvas.getContext('2d'); // Set canvas width & height\n\n  var _getDocumentWidthAndH = getDocumentWidthAndHeight(),\n      width = _getDocumentWidthAndH.width,\n      height = _getDocumentWidthAndH.height;\n\n  setCanvasWidthAndHeight(canvas, context, {\n    width: width,\n    height: height\n  }); // Position canvas\n\n  canvas.style.position = 'absolute';\n  canvas.style.left = '0';\n  canvas.style.top = '0';\n  canvas.style.zIndex = '2147483647'; // Disable any user interactions\n\n  canvas.style.pointerEvents = 'none';\n  global.document.body.appendChild(canvas);\n  return {\n    canvas: canvas,\n    context: context,\n    width: width,\n    height: height\n  };\n}\n\nfunction setCanvasWidthAndHeight(canvas, context, _ref) {\n  var width = _ref.width,\n      height = _ref.height;\n  canvas.style.width = \"\".concat(width, \"px\");\n  canvas.style.height = \"\".concat(height, \"px\"); // Scale\n\n  var scale = global.window.devicePixelRatio;\n  canvas.width = Math.floor(width * scale);\n  canvas.height = Math.floor(height * scale); // Normalize coordinate system to use css pixels.\n\n  context.scale(scale, scale);\n}\n\nvar state = {};\nexport function init() {\n  if (!state.canvas) {\n    state = createCanvas();\n  }\n}\nexport function clear() {\n  if (state.context) {\n    state.context.clearRect(0, 0, state.width, state.height);\n  }\n}\nexport function draw(callback) {\n  clear();\n  callback(state.context);\n}\nexport function rescale() {\n  // First reset so that the canvas size doesn't impact the container size\n  setCanvasWidthAndHeight(state.canvas, state.context, {\n    width: 0,\n    height: 0\n  });\n\n  var _getDocumentWidthAndH2 = getDocumentWidthAndHeight(),\n      width = _getDocumentWidthAndH2.width,\n      height = _getDocumentWidthAndH2.height;\n\n  setCanvasWidthAndHeight(state.canvas, state.context, {\n    width: width,\n    height: height\n  }); // update state\n\n  state.width = width;\n  state.height = height;\n}\nexport function destroy() {\n  if (state.canvas) {\n    clear();\n    state.canvas.parentNode.removeChild(state.canvas);\n    state = {};\n  }\n}","import \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\n/* eslint-disable operator-assignment */\n\n/* eslint-disable no-param-reassign */\nvar colors = {\n  margin: '#f6b26b',\n  border: '#ffe599',\n  padding: '#93c47d',\n  content: '#6fa8dc',\n  text: '#232020'\n};\nvar labelPadding = 6;\n\nfunction roundedRect(context, _ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      r = _ref.r;\n  x = x - w / 2;\n  y = y - h / 2;\n  if (w < 2 * r) r = w / 2;\n  if (h < 2 * r) r = h / 2;\n  context.beginPath();\n  context.moveTo(x + r, y);\n  context.arcTo(x + w, y, x + w, y + h, r);\n  context.arcTo(x + w, y + h, x, y + h, r);\n  context.arcTo(x, y + h, x, y, r);\n  context.arcTo(x, y, x + w, y, r);\n  context.closePath();\n}\n\nfunction positionCoordinate(position, _ref2) {\n  var padding = _ref2.padding,\n      border = _ref2.border,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      left = _ref2.left;\n  var contentWidth = width - border.left - border.right - padding.left - padding.right;\n  var contentHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  var x = left + border.left + padding.left;\n  var y = top + border.top + padding.top;\n\n  if (position === 'top') {\n    x += contentWidth / 2;\n  } else if (position === 'right') {\n    x += contentWidth;\n    y += contentHeight / 2;\n  } else if (position === 'bottom') {\n    x += contentWidth / 2;\n    y += contentHeight;\n  } else if (position === 'left') {\n    y += contentHeight / 2;\n  } else if (position === 'center') {\n    x += contentWidth / 2;\n    y += contentHeight / 2;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Offset the label based on how many layers appear before it\n * For example:\n * margin labels will shift further outwards if there are\n * padding labels\n */\n\n\nfunction offset(type, position, _ref3, labelPaddingSize, external) {\n  var margin = _ref3.margin,\n      border = _ref3.border,\n      padding = _ref3.padding;\n\n  var shift = function shift(dir) {\n    return 0;\n  };\n\n  var offsetX = 0;\n  var offsetY = 0; // If external labels then push them to the edge of the band\n  // else keep them centred\n\n  var locationMultiplier = external ? 1 : 0.5; // Account for padding within the label\n\n  var labelPaddingShift = external ? labelPaddingSize * 2 : 0;\n\n  if (type === 'padding') {\n    shift = function shift(dir) {\n      return padding[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'border') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'margin') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] + margin[dir] * locationMultiplier + labelPaddingShift;\n    };\n  }\n\n  if (position === 'top') {\n    offsetY = -shift('top');\n  } else if (position === 'right') {\n    offsetX = shift('right');\n  } else if (position === 'bottom') {\n    offsetY = shift('bottom');\n  } else if (position === 'left') {\n    offsetX = -shift('left');\n  }\n\n  return {\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nfunction collide(a, b) {\n  return Math.abs(a.x - b.x) < Math.abs(a.w + b.w) / 2 && Math.abs(a.y - b.y) < Math.abs(a.h + b.h) / 2;\n}\n\nfunction overlapAdjustment(position, currentRect, prevRect) {\n  if (position === 'top') {\n    currentRect.y = prevRect.y - prevRect.h - labelPadding;\n  } else if (position === 'right') {\n    currentRect.x = prevRect.x + prevRect.w / 2 + labelPadding + currentRect.w / 2;\n  } else if (position === 'bottom') {\n    currentRect.y = prevRect.y + prevRect.h + labelPadding;\n  } else if (position === 'left') {\n    currentRect.x = prevRect.x - prevRect.w / 2 - labelPadding - currentRect.w / 2;\n  }\n\n  return {\n    x: currentRect.x,\n    y: currentRect.y\n  };\n}\n\nfunction textWithRect(context, type, _ref4, text) {\n  var x = _ref4.x,\n      y = _ref4.y,\n      w = _ref4.w,\n      h = _ref4.h;\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\n\nfunction configureText(context, text) {\n  context.font = '600 12px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n  var metrics = context.measureText(text);\n  var actualHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n  var w = metrics.width + labelPadding * 2;\n  var h = actualHeight + labelPadding * 2;\n  return {\n    w: w,\n    h: h\n  };\n}\n\nfunction drawLabel(context, measurements, _ref5, prevRect) {\n  var type = _ref5.type,\n      _ref5$position = _ref5.position,\n      position = _ref5$position === void 0 ? 'center' : _ref5$position,\n      text = _ref5.text;\n  var external = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  var _positionCoordinate = positionCoordinate(position, measurements),\n      x = _positionCoordinate.x,\n      y = _positionCoordinate.y;\n\n  var _offset = offset(type, position, measurements, labelPadding + 1, external),\n      offsetX = _offset.offsetX,\n      offsetY = _offset.offsetY; // Shift coordinate to center within\n  // the band of measurement\n\n\n  x += offsetX;\n  y += offsetY;\n\n  var _configureText = configureText(context, text),\n      w = _configureText.w,\n      h = _configureText.h; // Adjust for overlap\n\n\n  if (prevRect && collide({\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, prevRect)) {\n    var adjusted = overlapAdjustment(position, {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    }, prevRect);\n    x = adjusted.x;\n    y = adjusted.y;\n  }\n\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction floatingOffset(alignment, _ref6) {\n  var w = _ref6.w,\n      h = _ref6.h;\n  var deltaW = w * 0.5 + labelPadding;\n  var deltaH = h * 0.5 + labelPadding;\n  return {\n    offsetX: (alignment.x === 'left' ? -1 : 1) * deltaW,\n    offsetY: (alignment.y === 'top' ? -1 : 1) * deltaH\n  };\n}\n\nexport function drawFloatingLabel(context, measurements, _ref7) {\n  var type = _ref7.type,\n      text = _ref7.text;\n  var floatingAlignment = measurements.floatingAlignment,\n      extremities = measurements.extremities;\n  var x = extremities[floatingAlignment.x];\n  var y = extremities[floatingAlignment.y];\n\n  var _configureText2 = configureText(context, text),\n      w = _configureText2.w,\n      h = _configureText2.h;\n\n  var _floatingOffset = floatingOffset(floatingAlignment, {\n    w: w,\n    h: h\n  }),\n      offsetX = _floatingOffset.offsetX,\n      offsetY = _floatingOffset.offsetY;\n\n  x += offsetX;\n  y += offsetY;\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction drawStack(context, measurements, stack, external) {\n  var rects = [];\n  stack.forEach(function (l, idx) {\n    // Move the centred label to floating in external mode\n    var rect = external && l.position === 'center' ? drawFloatingLabel(context, measurements, l) : drawLabel(context, measurements, l, rects[idx - 1], external);\n    rects[idx] = rect;\n  });\n}\n\nexport function labelStacks(context, measurements, labels, externalLabels) {\n  var stacks = labels.reduce(function (acc, l) {\n    if (!Object.prototype.hasOwnProperty.call(acc, l.position)) {\n      acc[l.position] = [];\n    }\n\n    acc[l.position].push(l);\n    return acc;\n  }, {});\n\n  if (stacks.top) {\n    drawStack(context, measurements, stacks.top, externalLabels);\n  }\n\n  if (stacks.right) {\n    drawStack(context, measurements, stacks.right, externalLabels);\n  }\n\n  if (stacks.bottom) {\n    drawStack(context, measurements, stacks.bottom, externalLabels);\n  }\n\n  if (stacks.left) {\n    drawStack(context, measurements, stacks.left, externalLabels);\n  }\n\n  if (stacks.center) {\n    drawStack(context, measurements, stacks.center, externalLabels);\n  }\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.number.is-integer.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\n\n/* eslint-disable operator-assignment */\n\n/**\n * Based on https://gist.github.com/awestbro/e668c12662ad354f02a413205b65fce7\n */\nimport global from 'global';\nimport { draw } from './canvas';\nimport { labelStacks } from './labels';\nvar colors = {\n  margin: '#f6b26ba8',\n  border: '#ffe599a8',\n  padding: '#93c47d8c',\n  content: '#6fa8dca8'\n};\nvar SMALL_NODE_SIZE = 30;\n\nfunction pxToNumber(px) {\n  return parseInt(px.replace('px', ''), 10);\n}\n\nfunction round(value) {\n  return Number.isInteger(value) ? value : value.toFixed(2);\n}\n\nfunction filterZeroValues(labels) {\n  return labels.filter(function (l) {\n    return l.text !== 0 && l.text !== '0';\n  });\n}\n\nfunction floatingAlignment(extremities) {\n  var windowExtremities = {\n    top: global.window.scrollY,\n    bottom: global.window.scrollY + global.window.innerHeight,\n    left: global.window.scrollX,\n    right: global.window.scrollX + global.window.innerWidth\n  };\n  var distances = {\n    top: Math.abs(windowExtremities.top - extremities.top),\n    bottom: Math.abs(windowExtremities.bottom - extremities.bottom),\n    left: Math.abs(windowExtremities.left - extremities.left),\n    right: Math.abs(windowExtremities.right - extremities.right)\n  };\n  return {\n    x: distances.left > distances.right ? 'left' : 'right',\n    y: distances.top > distances.bottom ? 'top' : 'bottom'\n  };\n}\n\nfunction measureElement(element) {\n  var style = global.getComputedStyle(element); // eslint-disable-next-line prefer-const\n\n  var _element$getBoundingC = element.getBoundingClientRect(),\n      top = _element$getBoundingC.top,\n      left = _element$getBoundingC.left,\n      right = _element$getBoundingC.right,\n      bottom = _element$getBoundingC.bottom,\n      width = _element$getBoundingC.width,\n      height = _element$getBoundingC.height;\n\n  var marginTop = style.marginTop,\n      marginBottom = style.marginBottom,\n      marginLeft = style.marginLeft,\n      marginRight = style.marginRight,\n      paddingTop = style.paddingTop,\n      paddingBottom = style.paddingBottom,\n      paddingLeft = style.paddingLeft,\n      paddingRight = style.paddingRight,\n      borderBottomWidth = style.borderBottomWidth,\n      borderTopWidth = style.borderTopWidth,\n      borderLeftWidth = style.borderLeftWidth,\n      borderRightWidth = style.borderRightWidth;\n  top = top + global.window.scrollY;\n  left = left + global.window.scrollX;\n  bottom = bottom + global.window.scrollY;\n  right = right + global.window.scrollX;\n  var margin = {\n    top: pxToNumber(marginTop),\n    bottom: pxToNumber(marginBottom),\n    left: pxToNumber(marginLeft),\n    right: pxToNumber(marginRight)\n  };\n  var padding = {\n    top: pxToNumber(paddingTop),\n    bottom: pxToNumber(paddingBottom),\n    left: pxToNumber(paddingLeft),\n    right: pxToNumber(paddingRight)\n  };\n  var border = {\n    top: pxToNumber(borderTopWidth),\n    bottom: pxToNumber(borderBottomWidth),\n    left: pxToNumber(borderLeftWidth),\n    right: pxToNumber(borderRightWidth)\n  };\n  var extremities = {\n    top: top - margin.top,\n    bottom: bottom + margin.bottom,\n    left: left - margin.left,\n    right: right + margin.right\n  };\n  return {\n    margin: margin,\n    padding: padding,\n    border: border,\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height,\n    extremities: extremities,\n    floatingAlignment: floatingAlignment(extremities)\n  };\n}\n\nfunction drawMargin(context, _ref) {\n  var margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      top = _ref.top,\n      left = _ref.left,\n      bottom = _ref.bottom,\n      right = _ref.right;\n  // Draw Margin\n  var marginHeight = height + margin.bottom + margin.top;\n  context.fillStyle = colors.margin; // Top margin rect\n\n  context.fillRect(left, top - margin.top, width, margin.top); // Right margin rect\n\n  context.fillRect(right, top - margin.top, margin.right, marginHeight); // Bottom margin rect\n\n  context.fillRect(left, bottom, width, margin.bottom); // Left margin rect\n\n  context.fillRect(left - margin.left, top - margin.top, margin.left, marginHeight);\n  var marginLabels = [{\n    type: 'margin',\n    text: round(margin.top),\n    position: 'top'\n  }, {\n    type: 'margin',\n    text: round(margin.right),\n    position: 'right'\n  }, {\n    type: 'margin',\n    text: round(margin.bottom),\n    position: 'bottom'\n  }, {\n    type: 'margin',\n    text: round(margin.left),\n    position: 'left'\n  }];\n  return filterZeroValues(marginLabels);\n}\n\nfunction drawPadding(context, _ref2) {\n  var padding = _ref2.padding,\n      border = _ref2.border,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      left = _ref2.left,\n      bottom = _ref2.bottom,\n      right = _ref2.right;\n  var paddingWidth = width - border.left - border.right;\n  var paddingHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  context.fillStyle = colors.padding; // Top padding rect\n\n  context.fillRect(left + border.left, top + border.top, paddingWidth, padding.top); // Right padding rect\n\n  context.fillRect(right - padding.right - border.right, top + padding.top + border.top, padding.right, paddingHeight); // Bottom padding rect\n\n  context.fillRect(left + border.left, bottom - padding.bottom - border.bottom, paddingWidth, padding.bottom); // Left padding rect\n\n  context.fillRect(left + border.left, top + padding.top + border.top, padding.left, paddingHeight);\n  var paddingLabels = [{\n    type: 'padding',\n    text: padding.top,\n    position: 'top'\n  }, {\n    type: 'padding',\n    text: padding.right,\n    position: 'right'\n  }, {\n    type: 'padding',\n    text: padding.bottom,\n    position: 'bottom'\n  }, {\n    type: 'padding',\n    text: padding.left,\n    position: 'left'\n  }];\n  return filterZeroValues(paddingLabels);\n}\n\nfunction drawBorder(context, _ref3) {\n  var border = _ref3.border,\n      width = _ref3.width,\n      height = _ref3.height,\n      top = _ref3.top,\n      left = _ref3.left,\n      bottom = _ref3.bottom,\n      right = _ref3.right;\n  var borderHeight = height - border.top - border.bottom;\n  context.fillStyle = colors.border; // Top border rect\n\n  context.fillRect(left, top, width, border.top); // Bottom border rect\n\n  context.fillRect(left, bottom - border.bottom, width, border.bottom); // Left border rect\n\n  context.fillRect(left, top + border.top, border.left, borderHeight); // Right border rect\n\n  context.fillRect(right - border.right, top + border.top, border.right, borderHeight);\n  var borderLabels = [{\n    type: 'border',\n    text: border.top,\n    position: 'top'\n  }, {\n    type: 'border',\n    text: border.right,\n    position: 'right'\n  }, {\n    type: 'border',\n    text: border.bottom,\n    position: 'bottom'\n  }, {\n    type: 'border',\n    text: border.left,\n    position: 'left'\n  }];\n  return filterZeroValues(borderLabels);\n}\n\nfunction drawContent(context, _ref4) {\n  var padding = _ref4.padding,\n      border = _ref4.border,\n      width = _ref4.width,\n      height = _ref4.height,\n      top = _ref4.top,\n      left = _ref4.left;\n  var contentWidth = width - border.left - border.right - padding.left - padding.right;\n  var contentHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  context.fillStyle = colors.content; // content rect\n\n  context.fillRect(left + border.left + padding.left, top + border.top + padding.top, contentWidth, contentHeight); // Dimension label\n\n  return [{\n    type: 'content',\n    position: 'center',\n    text: \"\".concat(round(contentWidth), \" x \").concat(round(contentHeight))\n  }];\n}\n\nfunction drawBoxModel(element) {\n  return function (context) {\n    if (element && context) {\n      var measurements = measureElement(element);\n      var marginLabels = drawMargin(context, measurements);\n      var paddingLabels = drawPadding(context, measurements);\n      var borderLabels = drawBorder(context, measurements);\n      var contentLabels = drawContent(context, measurements);\n      var externalLabels = measurements.width <= SMALL_NODE_SIZE * 3 || measurements.height <= SMALL_NODE_SIZE;\n      labelStacks(context, measurements, [].concat(_toConsumableArray(contentLabels), _toConsumableArray(paddingLabels), _toConsumableArray(borderLabels), _toConsumableArray(marginLabels)), externalLabels);\n    }\n  };\n}\n\nexport function drawSelectedElement(element) {\n  draw(drawBoxModel(element));\n}","import global from 'global';\nexport var deepElementFromPoint = function deepElementFromPoint(x, y) {\n  var element = global.document.elementFromPoint(x, y);\n\n  var crawlShadows = function crawlShadows(node) {\n    if (node && node.shadowRoot) {\n      var nestedElement = node.shadowRoot.elementFromPoint(x, y); // Nested node is same as the root one\n\n      if (node.isEqualNode(nestedElement)) {\n        return node;\n      } // The nested node has shadow DOM too so continue crawling\n\n\n      if (nestedElement.shadowRoot) {\n        return crawlShadows(nestedElement);\n      } // No more shadow DOM\n\n\n      return nestedElement;\n    }\n\n    return node;\n  };\n\n  var shadowElement = crawlShadows(element);\n  return shadowElement || element;\n};","/* eslint-env browser */\nimport { useEffect } from '@storybook/addons';\nimport { drawSelectedElement } from './box-model/visualizer';\nimport { init, rescale, destroy } from './box-model/canvas';\nimport { deepElementFromPoint } from './util';\nvar nodeAtPointerRef;\nvar pointer = {\n  x: 0,\n  y: 0\n};\n\nfunction findAndDrawElement(x, y) {\n  nodeAtPointerRef = deepElementFromPoint(x, y);\n  drawSelectedElement(nodeAtPointerRef);\n}\n\nexport var withMeasure = function withMeasure(StoryFn, context) {\n  var measureEnabled = context.globals.measureEnabled;\n  useEffect(function () {\n    var onMouseMove = function onMouseMove(event) {\n      window.requestAnimationFrame(function () {\n        event.stopPropagation();\n        pointer.x = event.clientX;\n        pointer.y = event.clientY;\n      });\n    };\n\n    document.addEventListener('mousemove', onMouseMove);\n    return function () {\n      document.removeEventListener('mousemove', onMouseMove);\n    };\n  }, []);\n  useEffect(function () {\n    var onMouseOver = function onMouseOver(event) {\n      window.requestAnimationFrame(function () {\n        event.stopPropagation();\n        findAndDrawElement(event.clientX, event.clientY);\n      });\n    };\n\n    var onResize = function onResize() {\n      window.requestAnimationFrame(function () {\n        rescale();\n      });\n    };\n\n    if (measureEnabled) {\n      document.addEventListener('mouseover', onMouseOver);\n      init();\n      window.addEventListener('resize', onResize); // Draw the element below the pointer when first enabled\n\n      findAndDrawElement(pointer.x, pointer.y);\n    }\n\n    return function () {\n      window.removeEventListener('resize', onResize);\n      destroy();\n    };\n  }, [measureEnabled]);\n  return StoryFn();\n};","export var ADDON_ID = 'storybook/measure-addon';\nexport var TOOL_ID = \"\".concat(ADDON_ID, \"/tool\");\nexport var PARAM_KEY = 'measureEnabled';\nexport var EVENTS = {\n  RESULT: \"\".concat(ADDON_ID, \"/result\"),\n  REQUEST: \"\".concat(ADDON_ID, \"/request\"),\n  CLEAR: \"\".concat(ADDON_ID, \"/clear\")\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { withMeasure } from './withMeasure';\nimport { PARAM_KEY } from './constants';\nexport var decorators = [withMeasure];\nexport var globals = _defineProperty({}, PARAM_KEY, false);"],"names":["getDocumentWidthAndHeight","container","global","height","width","createCanvas","canvas","context","_getDocumentWidthAndH","setCanvasWidthAndHeight","_ref","scale","state","init","clear","draw","callback","rescale","_getDocumentWidthAndH2","destroy","colors","labelPadding","roundedRect","x","y","w","h","r","positionCoordinate","position","_ref2","padding","border","top","left","contentWidth","contentHeight","offset","type","_ref3","labelPaddingSize","external","margin","shift","dir","offsetX","offsetY","locationMultiplier","labelPaddingShift","collide","a","b","overlapAdjustment","currentRect","prevRect","textWithRect","_ref4","text","configureText","metrics","actualHeight","drawLabel","measurements","_ref5","_ref5$position","_positionCoordinate","_offset","_configureText","adjusted","floatingOffset","alignment","_ref6","deltaW","deltaH","drawFloatingLabel","_ref7","floatingAlignment","extremities","_configureText2","_floatingOffset","drawStack","stack","rects","l","idx","rect","labelStacks","labels","externalLabels","stacks","acc","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","iter","len","i","arr2","SMALL_NODE_SIZE","pxToNumber","px","round","value","filterZeroValues","windowExtremities","distances","measureElement","element","style","_element$getBoundingC","right","bottom","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth","drawMargin","marginHeight","marginLabels","drawPadding","paddingWidth","paddingHeight","paddingLabels","drawBorder","borderHeight","borderLabels","drawContent","drawBoxModel","contentLabels","drawSelectedElement","deepElementFromPoint","crawlShadows","node","nestedElement","shadowElement","nodeAtPointerRef","pointer","findAndDrawElement","withMeasure","StoryFn","measureEnabled","useEffect","onMouseMove","event","onMouseOver","onResize","PARAM_KEY","_defineProperty","obj","key","decorators","globals"],"mappings":"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"}