{"version":3,"file":"preview.f20a52c0.js","sources":["../node_modules/@storybook/addon-a11y/dist/esm/constants.js","../node_modules/@storybook/addon-a11y/dist/esm/a11yRunner.js","../node_modules/@storybook/addon-a11y/dist/esm/highlight.js","../node_modules/@storybook/addon-a11y/dist/esm/a11yHighlight.js"],"sourcesContent":["export var ADDON_ID = 'storybook/a11y';\nexport var PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexport var PARAM_KEY = \"a11y\";\nexport var HIGHLIGHT_STYLE_ID = 'a11yHighlight';\nvar RESULT = \"\".concat(ADDON_ID, \"/result\");\nvar REQUEST = \"\".concat(ADDON_ID, \"/request\");\nvar RUNNING = \"\".concat(ADDON_ID, \"/running\");\nvar ERROR = \"\".concat(ADDON_ID, \"/error\");\nvar MANUAL = \"\".concat(ADDON_ID, \"/manual\");\nvar HIGHLIGHT = \"\".concat(ADDON_ID, \"/highlight\");\nexport var EVENTS = {\n  RESULT: RESULT,\n  REQUEST: REQUEST,\n  RUNNING: RUNNING,\n  ERROR: ERROR,\n  MANUAL: MANUAL,\n  HIGHLIGHT: HIGHLIGHT\n};","import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { EVENTS } from './constants';\nvar document = global.document,\n    globalWindow = global.window;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel(); // Holds axe core running state\n\nvar active = false; // Holds latest story we requested a run\n\nvar activeStoryId;\n/**\n * Handle A11yContext events.\n * Because the event are sent without manual check, we split calls\n */\n\nvar handleRequest = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(storyId) {\n    var _yield$getParams, manual;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getParams(storyId);\n\n          case 2:\n            _yield$getParams = _context.sent;\n            manual = _yield$getParams.manual;\n\n            if (manual) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return run(storyId);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function handleRequest(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar run = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(storyId) {\n    var input, axe, _input$element, element, config, _input$options, options, htmlElement, result;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            activeStoryId = storyId;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return getParams(storyId);\n\n          case 4:\n            input = _context2.sent;\n\n            if (active) {\n              _context2.next = 19;\n              break;\n            }\n\n            active = true;\n            channel.emit(EVENTS.RUNNING);\n            _context2.next = 10;\n            return import('axe-core');\n\n          case 10:\n            axe = _context2.sent.default;\n            _input$element = input.element, element = _input$element === void 0 ? '#root' : _input$element, config = input.config, _input$options = input.options, options = _input$options === void 0 ? {} : _input$options;\n            htmlElement = document.querySelector(element);\n            axe.reset();\n\n            if (config) {\n              axe.configure(config);\n            }\n\n            _context2.next = 17;\n            return axe.run(htmlElement, options);\n\n          case 17:\n            result = _context2.sent;\n\n            // It's possible that we requested a new run on a different story.\n            // Unfortunately, axe doesn't support a cancel method to abort current run.\n            // We check if the story we run against is still the current one,\n            // if not, trigger a new run using the current story\n            if (activeStoryId === storyId) {\n              channel.emit(EVENTS.RESULT, result);\n            } else {\n              active = false;\n              run(activeStoryId);\n            }\n\n          case 19:\n            _context2.next = 24;\n            break;\n\n          case 21:\n            _context2.prev = 21;\n            _context2.t0 = _context2[\"catch\"](1);\n            channel.emit(EVENTS.ERROR, _context2.t0);\n\n          case 24:\n            _context2.prev = 24;\n            active = false;\n            return _context2.finish(24);\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 21, 24, 27]]);\n  }));\n\n  return function run(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/** Returns story parameters or default ones. */\n\n\nvar getParams = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(storyId) {\n    var _ref4, parameters;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return globalWindow.__STORYBOOK_STORY_STORE__.loadStory({\n              storyId: storyId\n            });\n\n          case 2:\n            _context3.t0 = _context3.sent;\n\n            if (_context3.t0) {\n              _context3.next = 5;\n              break;\n            }\n\n            _context3.t0 = {};\n\n          case 5:\n            _ref4 = _context3.t0;\n            parameters = _ref4.parameters;\n            return _context3.abrupt(\"return\", parameters.a11y || {\n              config: {},\n              options: {\n                restoreScroll: true\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getParams(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nchannel.on(EVENTS.REQUEST, handleRequest);\nchannel.on(EVENTS.MANUAL, run);","export var highlightStyle = function highlightStyle(color) {\n  return \"\\n  outline: 2px dashed \".concat(color, \";\\n  outline-offset: 2px;\\n  box-shadow: 0 0 0 6px rgba(255,255,255,0.6);\\n\");\n};\nexport var highlightObject = function highlightObject(color) {\n  return {\n    outline: \"2px dashed \".concat(color),\n    outlineOffset: 2,\n    boxShadow: '0 0 0 6px rgba(255,255,255,0.6),'\n  };\n};","import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { STORY_CHANGED } from '@storybook/core-events';\nimport { EVENTS, HIGHLIGHT_STYLE_ID } from './constants';\nimport { highlightStyle } from './highlight';\nvar document = global.document;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel();\n\nvar highlight = function highlight(infos) {\n  var id = HIGHLIGHT_STYLE_ID;\n  resetHighlight(); // Make sure there are no duplicated selectors\n\n  var elements = Array.from(new Set(infos.elements));\n  var sheet = document.createElement('style');\n  sheet.setAttribute('id', id);\n  sheet.innerHTML = elements.map(function (target) {\n    return \"\".concat(target, \"{\\n          \").concat(highlightStyle(infos.color), \"\\n         }\");\n  }).join(' ');\n  document.head.appendChild(sheet);\n};\n\nvar resetHighlight = function resetHighlight() {\n  var id = HIGHLIGHT_STYLE_ID;\n  var sheetToBeRemoved = document.getElementById(id);\n\n  if (sheetToBeRemoved) {\n    sheetToBeRemoved.parentNode.removeChild(sheetToBeRemoved);\n  }\n};\n\nchannel.on(STORY_CHANGED, resetHighlight);\nchannel.on(EVENTS.HIGHLIGHT, highlight);"],"names":["ADDON_ID","HIGHLIGHT_STYLE_ID","RESULT","REQUEST","RUNNING","ERROR","MANUAL","HIGHLIGHT","EVENTS","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","_asyncToGenerator","fn","self","args","err","document","global","globalWindow","module","channel","addons","active","activeStoryId","handleRequest","_ref","_callee","storyId","_yield$getParams","manual","_context","getParams","run","_x","_ref2","_callee2","input","axe","_input$element","element","config","_input$options","options","htmlElement","result","_context2","n","_x2","_ref3","_callee3","_ref4","parameters","_context3","_x3","highlightStyle","color","highlight","infos","id","resetHighlight","elements","sheet","target","sheetToBeRemoved","STORY_CHANGED"],"mappings":"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"}